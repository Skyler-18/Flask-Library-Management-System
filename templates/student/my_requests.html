{% extends 'student/student_layout.html' %}

{% block title %}
    My Requests
{% endblock %}

{% block style %}
<style>
      .table{
        margin-left: 5rem;
        margin-right: 6rem;
        max-width: calc(100% - 10rem);
        font-family: "Montserrat", sans-serif;
        font-size: 1.5rem;
      }

      .active-requests{
        margin-bottom: 6rem;
      }

      a{
        color: black;
        text-decoration: none;
      }

      a:hover{
        color: blue;
      }
    </style>
{% endblock %}

{% block body %}
  <h1 class="heading">My Active Requests</h1>
  
  <div class="container">
    <div class="row">
      <div class="col">

  <table class="table table-bordered table-striped active-requests">
    <thead class="table-dark">
        <tr>
            <th scope="col">S.No.</th>
            <th scope="col">Book Name</th>
            <th scope="col">Action</th> <!-- New column without heading -->
        </tr>
    </thead>
    <tbody>
        {% for i in range(1, 6) %}
            <tr>
                <td>{{ i }}</td>
                <td>
                    {% if books[i-1] %}
                        <a href="{{url_for('student_request_book', book_id=book_ids[i-1])}}"> {{ books[i-1] }} </a>
                    {% else %}
                        ....
                    {% endif %}
                </td>
                <td>
                    {% if books[i-1] %}
                     <a href="{{url_for('cancel_request', book_id=book_ids[i-1])}}" class="btn btn-danger">Cancel Request</a> 
                    {% else %}
                        ....
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
</div>
</div>
</div>




<h1 class="heading">Recently Rejected Requests</h1>
  
<div class="container">
  <div class="row">
    <div class="col">

<table class="table table-bordered table-striped">
  <thead class="table-dark">
      <tr>
          <th scope="col">S.No.</th>
          <th scope="col">Book Name</th>
          <th scope="col">Date Rejected</th> <!-- New column without heading -->
      </tr>
  </thead>
  <tbody>
      {% for i in range(1, 6) %}
          <tr>
              <td>{{ i }}</td>
              <td>
                  {% if rejects[i-1] %}
                      {{ rejects[i-1][0] }}
                  {% else %}
                      ....
                  {% endif %}
              </td>
              <td>
                  {% if rejects[i-1] %}
                    {{ rejects[i-1][1]}}
                  {% else %}
                    ....
                  {% endif %}
              </td>
          </tr>
      {% endfor %}
  </tbody>
</table>
</div>
</div>
</div>

{% endblock %}